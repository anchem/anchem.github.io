---
layout: post
title: 回溯算法
date: 2021-07-03 15:30:00
tags:
- 基础内功
- 算法与数据结构
keywords: 算法,数据结构,回溯
description: 回溯算法详解
background: '/img/posts/default.jpg'
---

## 概念

回溯算法是一种有策略的穷举搜索算法，它使用递归的方式寻找答案，寻找答案的过程可以看成是一个多叉树的深度优先遍历。由于是穷举，所以效率并不算高，但是基本是该类问题的唯一可行解法。

## 适用范围

解决排列、组合、分割、子集、棋盘等问题。

## 算法思路和框架

回溯算法的思路就是要穷举所有的结果，进而找到答案，穷举的过程是对一颗多叉树的遍历，遍历完了，结果就找完了。在算法框架中，有以下几个关键的概念：

- **结束条件** - 到达终止条件，或者是多叉树的叶子节点，无法继续做选择了，结束本层递归。
- **选择列表** - 当前可以做的选择，即本层集合中的元素，或者说，当前节点有多少个孩子，就要遍历多少次。
- **路径** - 当前已经做出的选择，达到结束条件后，该路径即组成一个答案。

【算法框架】

```
void backtracking(路径，选择列表) {
    if (满足结束条件) {
        保存路径到结果中
        return;
    }
    for (选择 in 选择列表) {
        做选择，将节点加入路径
        backtracking(路径，选择列表)
        回溯，将节点从路径中去除
    }
}
```

递归处理多叉树的方式：

```
      ----------------------  for  循环的方向，横向遍历 ------------------>
      |
      |       第1层                    [    集   合    ]
      |                                /              \
      |                             选择              选择
      |                              /                  \
      |       第2层       [  子  集  合  ]          [  子  集  合  ]
递归，纵向遍历             /      |       \            |       \
      |                 选择    选择     选择         选择      选择
      |                 /        |         \          |         \
      |       第3层  [子集合]  [子集合]  [子集合]    [子集合]  [子集合]
      |
```

从上述算法框架中可以看出，回溯算法要穷举所有可能的答案，这些答案构成了一个多叉树，回溯的目的就是要遍历所有从根节点到叶子节点组成的路径，进而找到答案。

树的纵向深度遍历，由递归来实现；每个节点的孩子集合的横向遍历，由for循环来实现。

## 典型题目

建设中

