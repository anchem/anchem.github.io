---
id: refactor
title: 重构
sidebar_position: 4
tags:
  - '软件实现'
---

（待补充）

## 1. 重构是什么

简单说，重构就是在不改变代码外在行为的前提下，对代码进行修改，以改进程序的内部结构，比如获得更好的可读性、可维护性、可扩展性等。

## 2. 为什么应该重构

## 3. 应该在何处重构

### 3.1. 代码坏味道

#### 3.1.1. 重复代码

#### 3.1.2. 过长函数

#### 3.1.3. 过大的类

#### 3.1.4. 过长参数列

#### 3.1.5. 发散式变化

#### 3.1.6. 散弹式修改

#### 3.1.7. 依恋情结

#### 3.1.8. 数据泥团

#### 3.1.9. 基本类型偏执

#### 3.1.10. switch惊悚现身

#### 3.1.11. 平行继承体系

#### 3.1.12. 冗赘类

#### 3.1.13. 夸夸其谈未来性

#### 3.1.14. 令人迷惑的暂时字段

#### 3.1.15. 过度耦合的消息链

#### 3.1.16. 中间人

#### 3.1.17. 狎昵关系

#### 3.1.18. 异曲同工的类

#### 3.1.19. 不完美的库类

#### 3.1.20. 纯稚的数据类

#### 3.1.21. 被拒绝的遗赠

#### 3.1.22. 过多的注释

## 4. 如何进行重构

### 4.1. 测试防护网

### 4.2. 重构手法

#### 4.2.1. 重新组织函数

#### 4.2.2. 在对象之间搬移特性

#### 4.2.3. 重新组织数据

#### 4.2.4. 简化条件表达式

#### 4.2.5. 简化函数调用

#### 4.2.6. 处理概括关系

#### 4.2.7. 大型重构

### 4.3. 重构工具

【[IntelliJ IDEA](https://www.jetbrains.com/help/idea/refactoring-source-code.html)】 

## 5. 参考资料

- [词条：代码重构](https://zh.wikipedia.org/wiki/%E4%BB%A3%E7%A0%81%E9%87%8D%E6%9E%84)
- [《重构：改善既有代码的设计》](https://book.douban.com/subject/30468597/)
